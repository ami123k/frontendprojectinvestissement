
<div class="header bg-gradient-danger pb-8 pt-5 pt-md-8">

</div>
<!-- Page content -->
<div class="container-fluid mt--7">
  <!-- Table -->


  <p-table #dt [value]="propositions" [(selection)]="selectedCustomers" dataKey="id_Proposition" styleClass="p-datatable-customers" [rowHover]="true"
           [rows]="10" [showCurrentPageReport]="true" [rowsPerPageOptions]="[10,25,50]" [loading]="loading"
           [paginator]="true" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
           [filterDelay]="0" [globalFilterFields]="['description','montant','status_propo']">
    <ng-template pTemplate="caption">
      <div class="table-header">
        List of propositions
        <span class="p-input-icon-left">
                        <i class="pi pi-search"></i>
                        <input pInputText type="text" (input)="dt.filterGlobal($event.target.value, 'contains')" placeholder="Global Search" />
                    </span>
      </div>
    </ng-template>
    <ng-template pTemplate="header">
      <tr>
        <th style="width: 3rem"></th>
        <th pSortableColumn="description">description <p-sortIcon field="description"></p-sortIcon></th>
        <th pSortableColumn="montant">montant <p-sortIcon field="montant"></p-sortIcon></th>

        <th pSortableColumn="date">Date <p-sortIcon field="date"></p-sortIcon></th>
        <th pSortableColumn="status_propo">status_propo <p-sortIcon field="status_propo"></p-sortIcon></th>

        <th pSortableColumn="projet.nom">projet <p-sortIcon field="projet.nom"></p-sortIcon></th>

        <th style="width: 8rem"></th>
      </tr>
      <tr>
        <th>
          <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
        </th>
        <th>
          <input pInputText type="text" (input)="dt.filter($event.target.value, 'description', 'startsWith')" placeholder="Search by description" class="p-column-filter">
        </th>
        <th>
          <input pInputText tfype="text" (input)="dt.filter($event.target.value, 'montant', 'contains')" placeholder="Search by montant" class="p-column-filter">
        </th>

        <th>
          <p-calendar (onSelect)="onDateSelect($event)" (onClearClick)="dt.filter('', 'date', 'equals')" [showButtonBar]="true" styleClass="p-column-filter" placeholder="Registration Date" [readonlyInput]="true" dateFormat="yy-mm-dd"></p-calendar>
        </th>
        <th>
          <p-dropdown [options]="status_propo" (onChange)="dt.filter($event.value, 'status_propo', 'equals')" styleClass="p-column-filter" placeholder="Select a Status" [showClear]="true">
            <ng-template let-option pTemplate="item">
              <span [class]="'customer-badge status-' + option.value">&#123;&#123;option.label&#125;&#125;</span>
            </ng-template
            >
          </p-dropdown>
        </th>
        <th>
          <input pInputText tfype="text" (input)="dt.filter($event.target.value, 'projet', 'contains')" placeholder="Search by projet" class="p-column-filter">
        </th>
        <th></th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-proposition [ngModel]="id_Proposition">
      <tr class="p-selectable-row">
        <td>
          <p-tableCheckbox [value]="proposition"></p-tableCheckbox>
        </td>
        <td>
          <span class="p-column-title">description</span>
          {{proposition.description}}
        </td>
        <td>
          <span class="p-column-title">montant</span>
          {{proposition.montant}}
        </td>
        <td>
          <span class="p-column-title">Date</span>
          {{proposition.date}}
        </td>
        <td>
          <span class="p-column-title">Status</span>
          <span [class]="'customer-badge status-' + proposition.status_propo">{{proposition.status_propo}}</span>
        </td>
        <td>
          <span class="p-column-title">projet</span>
          {{projet.nom}}
        </td>

        <td style="text-align: center">
          <button pButton type="button" class="p-button-secondary" icon="pi pi-cog"></button>
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="8">No customers found.</td>
      </tr>
    </ng-template>
  </p-table>

  <!-- Dark table -->

</div>
<!--aaaaaaaaaaaaaaaaaaaaaaaaaaaaaa -->
